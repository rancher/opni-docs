"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[656],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=u(n),m=l,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var u=2;u<r;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),l=n(6010);const r="tabItem_Ymn6";function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(r,i),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),l=n(7294),r=n(6010),i=n(2389),o=n(7392),s=n(7094),u=n(2466);const p="tabList__CuJ",d="tabItem_LNqP";function c(e){var t;const{lazy:n,block:i,defaultValue:c,values:m,groupId:h,className:k}=e,g=l.Children.map(e.children,(e=>{if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=m??g.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),b=(0,o.l)(f,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const v=null===c?c:c??(null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)??g[0].props.value;if(null!==v&&!f.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:w}=(0,s.U)(),[N,O]=(0,l.useState)(v),I=[],{blockElementScrollPositionUntilNextRender:T}=(0,u.o5)();if(null!=h){const e=y[h];null!=e&&e!==N&&f.some((t=>t.value===e))&&O(e)}const S=e=>{const t=e.currentTarget,n=I.indexOf(t),a=f[n].value;a!==N&&(T(t),O(a),null!=h&&w(h,String(a)))},C=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=I.indexOf(e.currentTarget)+1;n=I[t]??I[0];break}case"ArrowLeft":{const t=I.indexOf(e.currentTarget)-1;n=I[t]??I[I.length-1];break}}null==(t=n)||t.focus()};return l.createElement("div",{className:(0,r.Z)("tabs-container",p)},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":i},k)},f.map((e=>{let{value:t,label:n,attributes:i}=e;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>I.push(e),onKeyDown:C,onFocus:S,onClick:S},i,{className:(0,r.Z)("tabs__item",d,null==i?void 0:i.className,{"tabs__item--active":N===t})}),n??t)}))),n?(0,l.cloneElement)(g.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):l.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,i.Z)();return l.createElement(c,(0,a.Z)({key:String(t)},e))}},9930:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>d});var a=n(7462),l=(n(7294),n(3905)),r=n(5488),i=n(5162);const o={title:"Opni Installation",slug:"/installation/opni"},s=void 0,u={unversionedId:"installation/opni/index",id:"installation/opni/index",title:"Opni Installation",description:"There are a few different ways to install Opni. We recommend installation through the Rancher UI.",source:"@site/docs/installation/opni/index.md",sourceDirName:"installation/opni",slug:"/installation/opni",permalink:"/installation/opni",draft:!1,editUrl:"https://github.com/rancher/opni-docs/edit/main/docs/installation/opni/index.md",tags:[],version:"current",frontMatter:{title:"Opni Installation",slug:"/installation/opni"},sidebar:"tutorialSidebar",previous:{title:"Opni - Multi-Cluster Observability with AIOps",permalink:"/"},next:{title:"Opni Backends",permalink:"/installation/opni/backends"}},p={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Chart configuration",id:"chart-configuration",level:2},{value:"More about auth providers",id:"more-about-auth-providers",level:3},{value:"How it works",id:"how-it-works",level:3},{value:"Installation",id:"installation",level:2},{value:"Upgrading",id:"upgrading",level:2},{value:"Prerequisites",id:"prerequisites-1",level:2},{value:"Setup",id:"setup",level:2},{value:"Available config options:",id:"available-config-options",level:3}],c={toc:d};function m(e){let{components:t,...o}=e;return(0,l.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"There are a few different ways to install Opni. We recommend installation through the Rancher UI."),(0,l.kt)("p",null,"Installation of Opni will give you the following:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Opni Gateway")," - the component that agents will communicate with to establish a connection between upstream opni and downstream opni agents"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Opni Admin UI")," - the dashboard that is used to create and manage backends, SLOs and downstream Opni agents")),(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"cert-manager"),(0,l.kt)("p",{parentName:"li"},"  Install cert-manager using one of the following methods, or check out the official documentation ",(0,l.kt)("a",{parentName:"p",href:"https://cert-manager.io/docs/installation/"},"here"),"."),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Install using kubectl apply with static manifests"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.10.0/cert-manager.yaml\n"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Install using helm"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add jetstack https://charts.jetstack.io\n")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo update\n")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install \\\n  cert-manager jetstack/cert-manager \\\n  --namespace cert-manager \\\n  --create-namespace \\\n  --version v1.10.0 \\\n  --set installCRDs=true\n"))))),(0,l.kt)(r.Z,{mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"rancher",label:"Installation using Rancher UI",default:!0,mdxType:"TabItem"},(0,l.kt)("p",null,"Opni provides GitHub charts repository that can be used with the Rancher UI. To add the charts, navigate to ",(0,l.kt)("strong",{parentName:"p"},"Apps -> Repositories")," in the Rancher UI.  Name the repository and select the 'Git repository containing Helm chart or cluster template definitions' option."),(0,l.kt)("p",null,"Enter the following git url:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"https://github.com/rancher/opni.git\n")),(0,l.kt)("p",null,"And the following branch:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"charts-repo\n")),(0,l.kt)("p",null,"Once the repo has updated you should be able to find Opni in the list of charts."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Opni Charts",src:n(2765).Z,width:"1113",height:"464"})),(0,l.kt)("p",null,"To install Opni, follow the prompts in the UI.  The most important setting is the Gateway Hostname.  This is the hostname that agents will use to connect to the Opni Gateway.  By default this is created as a Load Balancer service, but you may also place an ingress in front of it if your cluster does not support Load Balancer services.\n",(0,l.kt)("img",{alt:"Opni Gateway settings",src:n(8239).Z,width:"1127",height:"691"})),(0,l.kt)("p",null,"Under the Auth Settings tab you may select the default noauth provider, or otherwise select openid and provide details for an external auth provider."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Opni Gateway settings",src:n(4166).Z,width:"1123",height:"687"})),(0,l.kt)("p",null,"Once satisfied with the options, click ",(0,l.kt)("strong",{parentName:"p"},"Install"),".")),(0,l.kt)(i.Z,{value:"helm",label:"Installation using Helm",mdxType:"TabItem"},(0,l.kt)("h2",{id:"chart-configuration"},"Chart configuration"),(0,l.kt)("p",null,"See below for a sample ",(0,l.kt)("inlineCode",{parentName:"p"},"values.yaml")," file. Edit the file with your own values."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},'gateway:\n  # Set a hostname for the Opni Gateway API. This must be accessible to all agents.\n  hostname: # required\n  auth:\n    # Set an auth provider. Available options are "openid" and "noauth".\n    provider: "openid"\n\n    # If using the "openid" provider:\n    openid:\n      # discovery and wellKnownConfiguration are mutually exclusive.\n      # If the OP (openid provider) has a discovery endpoint, it should be\n      # configured in the discovery field, otherwise the well-known configuration\n      # fields can be set manually. If set, required fields are listed below.\n      discovery:\n        # Relative path at which to find the openid configuration.\n        # Defaults to "/.well-known/openid-configuration".\n        path: "/.well-known/openid-configuration"\n\n        # The OP\'s Issuer identifier. This must exactly match the issuer URL\n        # obtained from the discovery endpoint, and will match the `iss\' claim\n        # in the ID Tokens issued by the OP.\n        issuer: ""  # required\n\n      # The ID Token claim that will be used to identify users ("sub", "email", etc.). \n      # The value of this field will be matched against role binding subject names.\n      # Defaults to "sub".\n      identifyingClaim: "sub"\n\n      clientID: ""  # required\n      clientSecret: ""  # required\n\n      # OAuth scopes that will be requested by the client. Defaults to ["openid", "profile", "email"].\n      scopes: ["openid", "profile", "email"]\n\n      # https://grafana.com/docs/grafana/v9.0/setup-grafana/configure-security/configure-authentication/generic-oauth/#roles\n      roleAttributePath: # required\n\n      # Optional manually-provided discovery information. Mutually exclusive with \n      # the discovery field (see above). If set, required fields are listed below.\n      wellKnownConfiguration:\n        issuer: ""                  # required\n        authorization_endpoint: ""  # required\n        token_endpoint: ""          # required\n        userinfo_endpoint: ""       # required\n        jwks_uri: ""                # required\n        # revocation_endpoint: ""\n        # scopes_supported: []\n        # response_types_supported: []\n        # response_modes_supported: []\n        # id_token_signing_alg_values_supported: []\n        # token_endpoint_auth_methods_supported: []\n        # claims_supported: []\n        # request_uri_parameter_supported: false\n    \n    # If using the "noauth" provider:\n    noauth:\n      # Set a hostname where the grafana dashboard will be accessible. This value\n      # is the grafana oauth redirect URL for the noauth provider.\n      grafanaHostname: # required\n\nopni-agent:\n  # Embedded kube-prometheus-stack chart. Only the following components will be installed:\n  # - prometheus operator\n  # - kube state metrics\n  # - node exporter\n  # - default service monitors and rules\n  kube-prometheus-stack:\n    enabled: true\n    \nopni-prometheus-crd:\n  # set to false if `opni-agent.kube-prometheus-stack.enabled` is true\n  enabled: false\n\n')),(0,l.kt)("h3",{id:"more-about-auth-providers"},"More about auth providers"),(0,l.kt)("details",null,(0,l.kt)("summary",null,(0,l.kt)("code",null,"openid")),(0,l.kt)("p",null,"Opni supports OpenID Connect for generic user authentication and authorization. Any OpenID Connect provider can be used. "),(0,l.kt)("p",null,"Take the following steps to set up Opni with your OpenID Provider.\nEvery provider is different, so you should consult your provider's documentation for more information."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Create a new client ID and secret to use for Opni. These are set in the ",(0,l.kt)("inlineCode",{parentName:"li"},"gateway.auth.openid")," section of the ",(0,l.kt)("inlineCode",{parentName:"li"},"values.yaml")," file above."),(0,l.kt)("li",{parentName:"ol"},"Add an allowed callback URL for ",(0,l.kt)("inlineCode",{parentName:"li"},"https://<your grafana url>/login/generic_oauth"),"."),(0,l.kt)("li",{parentName:"ol"},"Add an allowed logout URL for ",(0,l.kt)("inlineCode",{parentName:"li"},"https://<your grafana url>"),"."))),(0,l.kt)("details",null,(0,l.kt)("summary",null,(0,l.kt)("code",null,"noauth")),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"noauth")," auth provider can be used for demo purposes or for testing. "),(0,l.kt)("h3",{id:"how-it-works"},"How it works"),(0,l.kt)("p",null,"This demo auth mechanism allows Opni to be its own OpenID Provider. When signing in to Grafana, instead of being redirected to an external OAuth provider, you will be redirected to a simple login page containing a list of all known users in the system (the set of all subjects in the current list of role bindings). Simply select the user you want to sign in as and you will be redirected back to Grafana, logged in as that user. All users will be a Grafana admin.")),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Add the Opni Helm repository:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add opni https://raw.githubusercontent.com/rancher/opni/charts-repo\n")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo update\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install the CRDs chart:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm -n opni install --create-namespace opni-crd opni/opni-crd\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install the Opni chart:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm -n opni install opni opni/opni -f values.yaml\n")))),(0,l.kt)("h2",{id:"upgrading"},"Upgrading"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Upgrade the Helm chart:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo update\n")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm -n opni upgrade opni opni/opni -f values.yaml\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"If necessary, restart the ",(0,l.kt)("inlineCode",{parentName:"p"},"opni-manager")," deployment:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl -n opni rollout restart deployment opni-manager\n"))))),(0,l.kt)(i.Z,{value:"pulumi",label:"Installation using Pulumi",mdxType:"TabItem"},(0,l.kt)("p",null,"You can use ",(0,l.kt)("a",{parentName:"p",href:"https://www.pulumi.com/"},"Pulumi")," to install a production-ready Opni cluster on AWS."),(0,l.kt)("h2",{id:"prerequisites-1"},"Prerequisites"),(0,l.kt)("p",null,"The following tools are required:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.pulumi.com/docs/get-started/install/"},"Pulumi CLI")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html"},"AWS CLI"))),(0,l.kt)("h2",{id:"setup"},"Setup"),(0,l.kt)("p",null,"Click the button below to get started:"),(0,l.kt)("p",null,"  ",(0,l.kt)("a",{parentName:"p",href:"https://app.pulumi.com/new?template=https://github.com/rancher/opni"},(0,l.kt)("img",{parentName:"a",src:"https://get.pulumi.com/new/button.svg",alt:null}))),(0,l.kt)("p",null,'Once you reach the "New Project" screen, give your project and stack a name:'),(0,l.kt)("div",{className:"image-border"},(0,l.kt)("img",{src:n(2119).Z,alt:"New Project Settings"})),(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("p",null,"  Configure EKS cluster settings, including node group size and instance type:"),(0,l.kt)("div",{className:"image-border"},(0,l.kt)("img",{src:n(5502).Z,alt:"Cluster Settings"})),(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("p",null,"  Lastly, set an existing Route53 Zone ID where DNS records will be created, and choose an AWS region:"),(0,l.kt)("div",{className:"image-border"},(0,l.kt)("img",{src:n(8292).Z,alt:"Zone and Region Settings"})),(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("p",null,'  You can find your Route53 Zone ID in the AWS console, under "Hosted Zones":'),(0,l.kt)("div",null,(0,l.kt)("img",{src:n(1297).Z,alt:"AWS Hosted Zones"})),(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("p",null,"  On the next page, follow the provided instructions to launch your stack. Before running ",(0,l.kt)("inlineCode",{parentName:"p"},"pulumi up"),", you can view or modify any settings using the ",(0,l.kt)("inlineCode",{parentName:"p"},"pulumi config")," commands, or by editing ",(0,l.kt)("inlineCode",{parentName:"p"},"infra/Pulumi.<stack-name>.yaml"),"."),(0,l.kt)("div",{className:"image-border"},(0,l.kt)("img",{src:n(7721).Z,alt:"Deploy Stack"})),(0,l.kt)("br",null),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"available-config-options"},"Available config options:"),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Name"),(0,l.kt)("th",null,"Description"),(0,l.kt)("th",null,"Default"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"aws:region")),(0,l.kt)("td",null,"AWS region to deploy to"),(0,l.kt)("td",null,(0,l.kt)("code",null,"us-east-2"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"aws:skipCredentialsValidation")),(0,l.kt)("td",null,"Skip AWS credentials validation"),(0,l.kt)("td",null,(0,l.kt)("code",null,"true"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"aws:skipRequestingAccountId")),(0,l.kt)("td",null,"Skip requesting AWS account ID"),(0,l.kt)("td",null,(0,l.kt)("code",null,"true"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:chartVersion")),(0,l.kt)("td",null,"Chart version to deploy"),(0,l.kt)("td",null,"latest version available")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:chartsRepo")),(0,l.kt)("td",null,"Opni chart repository"),(0,l.kt)("td",null,(0,l.kt)("code",null,"https://raw.githubusercontent.com/rancher/opni/charts-repo/"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:imageTag")),(0,l.kt)("td",null,"Opni image tag"),(0,l.kt)("td",null,(0,l.kt)("code",null,"latest"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:minimalImageTag")),(0,l.kt)("td",null,"Minimal image tag (used for agents)"),(0,l.kt)("td",null,(0,l.kt)("code",null,"latest-minimal"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:namePrefix")),(0,l.kt)("td",null,"Prefix for Opni resources"),(0,l.kt)("td",null,(0,l.kt)("code",null,"opni"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:zoneID")),(0,l.kt)("td",null,"Route53 Zone ID to create DNS records in"),(0,l.kt)("td",null,"(required)")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:tags")),(0,l.kt)("td",null,"Tags to apply to all resources"),(0,l.kt)("td",null,(0,l.kt)("code",null,"{}"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"opni:cluster")),(0,l.kt)("td",{colSpan:"2"},(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Name"),(0,l.kt)("th",null,"Description"),(0,l.kt)("th",null,"Default"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"nodeInstanceType")),(0,l.kt)("td",null,"Instance type for EKS nodes"),(0,l.kt)("td",null,(0,l.kt)("code",null,"r6a.xlarge"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"nodeGroupMinSize")),(0,l.kt)("td",null,"Minimum number of nodes in the EKS node group"),(0,l.kt)("td",null,(0,l.kt)("code",null,"3"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"nodeGroupMaxSize")),(0,l.kt)("td",null,"Maximum number of nodes in the EKS node group"),(0,l.kt)("td",null,(0,l.kt)("code",null,"3"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("code",null,"nodeGroupDesiredSize")),(0,l.kt)("td",null,"Desired number of nodes in the EKS node group"),(0,l.kt)("td",null,(0,l.kt)("code",null,"3")))))))))))}m.isMDXComponent=!0},1297:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/aws-hosted-zones-f95b61e81739a4832b2f7aeb293abf24.png"},7721:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pulumi-deploy-2c905133034c1ca1748db1c88159daae.png"},5502:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pulumi-new-config-cluster-3db8dab12ac356ce475b625d2f6ebfeb.png"},8292:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pulumi-new-config-zone-region-3730d907f56725f344f836c4e961a53d.png"},2119:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/pulumi-new-project-7aa0d8bee3023eb74cd56aec5c1d9735.png"},4166:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/opniauth-3a76d2166a2b911334597b8f8544e1b7.png"},2765:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/opnicharts-a08d58c7f58d1d07f583116689d8aad0.png"},8239:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/opnigateway-efbde84d7c8984647fbb2d3de1ac1d2a.png"}}]);