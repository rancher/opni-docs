<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-installation/opni/backends">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Opni Backends | Rancher Opni</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opni.io/installation/opni/backends"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Opni Backends | Rancher Opni"><meta data-rh="true" name="description" content="An observability backend is where observability data is sent for storage and querying. Backends are configured in the Opni Management UI."><meta data-rh="true" property="og:description" content="An observability backend is where observability data is sent for storage and querying. Backends are configured in the Opni Management UI."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://opni.io/installation/opni/backends"><link data-rh="true" rel="alternate" href="https://opni.io/installation/opni/backends" hreflang="en"><link data-rh="true" rel="alternate" href="https://opni.io/installation/opni/backends" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-56382716-14","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8ac7f7ba.css">
<link rel="preload" href="/assets/js/runtime~main.ff276d76.js" as="script">
<link rel="preload" href="/assets/js/main.4b3a9623.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/assets/logo-horizontal-opni.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/assets/logo-horizontal-opni.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">v0.10</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rancher/opni" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://epinio.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__epinio">Epinio<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rd">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/installation/opni">Install Opni</a><button aria-label="Toggle the collapsible sidebar category &#x27;Install Opni&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/installation/opni/backends">Enable Backends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/installation/opni/aiops">Enable AIOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/installation/opni/slo">Enable SLOs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/installation/opni_agent">Install Opni Agent</a><button aria-label="Toggle the collapsible sidebar category &#x27;Install Opni Agent&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/installation/uninstall">Uninstall Opni</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/rancher-desktop/">Advanced Guides</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/installation/opni"><span itemprop="name">Install Opni</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Enable Backends</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Opni Backends</h1></header><p>An observability backend is where observability data is sent for storage and querying. Backends are configured in the Opni Management UI.
You can currently create the following backends:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>For the best user experience consider using Google-Chrome.</p></div></div><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Opni Monitoring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Opni Logging</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Opni Alerting</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>The Monitoring backend is composed of <a href="https://cortexmetrics.io/" target="_blank" rel="noopener noreferrer">Cortex</a> and <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a> deployments, fully managed by Opni.
You can enable and configure Monitoring from the Opni dashboard, or from the CLI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-opni-dashboard">Using the Opni Dashboard<a class="hash-link" href="#using-the-opni-dashboard" title="Direct link to heading">​</a></h2><p>Follow these steps to enable Monitoring from the Opni dashboard:</p><ol><li>Navigate to the Opni dashboard.</li></ol><p>To access the dashboard, you can port-forward:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n opni port-forward svc/opni-admin-dashboard web:web</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then navigate to <a href="http://localhost:12080" target="_blank" rel="noopener noreferrer">http://localhost:12080</a>.</p><ol start="2"><li><p>Select &quot;Monitoring&quot; from the left sidebar under &quot;Backends&quot;, then click &quot;Enable&quot;.</p><div class="image-border"><img loading="lazy" src="/assets/images/monitoring-not-installed-72e503a7f1251f5a1c187e08c0ec8c8f.png" alt="Monitoring not installed" class="img_ev3q"></div></li><li><p>Adjust configuration options as needed:</p></li></ol><div class="image-border"><img loading="lazy" src="/assets/images/monitoring-install-options-1b199480b12da3ab04f36cbe8574ffbe.png" alt="Monitoring configuration" class="img_ev3q"></div><br><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mode">Mode<a class="hash-link" href="#mode" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Standalone**: All components of Cortex will be deployed in a single pod. This is suitable for small setups.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Highly Available**: Cortex components will be deployed in separate pods and replicated for high availability. This setup can provide better performance and reliability, but requires more resources.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-type">Storage Type<a class="hash-link" href="#storage-type" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **S3**: Cortex will store time series data in an S3 bucket. This is the recommended default option.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Filesystem**: Cortex will store time series data on the local filesystem using a persistent volume. This option is suitable for testing and demo setups.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::caution</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Filesystem storage may be unreliable, especially during upgrades. Do not rely on this option for production workloads, as data loss is possible.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-retention-period">Data Retention Period<a class="hash-link" href="#data-retention-period" title="Direct link to heading">​</a></h3><p>Controls the global retention period for time series data.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Cortex stores historical data in blocks, where each block contains 2 hours worth of data. Blocks are scanned periodically, and any blocks which contain metrics older than the retention period will be deleted.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="s3-options">S3 Options<a class="hash-link" href="#s3-options" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">When S3 storage is selected, the following options are available (required fields will be marked with a &lt;span style={{ color: &#x27;#f00&#x27; }}&gt;*&lt;/span&gt; in the Opni UI):</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Bucket Name**: The name of the S3 bucket to use for storing time series data. This bucket must already exist.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Endpoint**: The S3 endpoint to use. Selecting a region from the dropdown will automatically populate this field with the appropriate AWS S3 endpoint, or a custom endpoint can be provided.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Access Key ID**: The access key ID to use for authenticating with S3.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Secret Access Key**: The secret access key to use for authenticating with S3.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Signature Version**: The signature version to use for authenticating with S3. This should be set to `v4` for AWS S3.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Server Side Encryption**: This can be enabled if your S3 bucket is configured to use server side encryption. If `SSE-KMS` is selected, you will be required to provide the KMS Key ID and Encryption Context.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Connection**: Various connection options can be specified. The default options are sufficient for most use cases.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="grafana">Grafana<a class="hash-link" href="#grafana" title="Direct link to heading">​</a></h3><p>Grafana can be enabled by clicking &quot;Enable&quot; under the Grafana section. The following configuration options are available:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- **Hostname**: The hostname at which Grafana will be accessed in the browser.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::info</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">To access Grafana from a browser, you will need to create a Kubernetes Ingress for the Grafana service. This hostname must match the hostname configured in the ingress.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once Grafana is enabled, access it in the browser to view the Opni dashboards. Several pre-configured dashboards are available.</p><p><img loading="lazy" alt="Grafana" src="/assets/images/grafana-default-dashboard-7dea2004210aaf5756c408c3b6abcb5c.png" width="2561" height="1356" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-cli">Using the CLI<a class="hash-link" href="#using-the-cli" title="Direct link to heading">​</a></h2><p>Opening a shell into the Opni Gateway pod will give you access to an auto-configured CLI environment.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n opni </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -it deploy/opni-gateway -- </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>opni metrics ops</code> subcommand can be used to configure the Monitoring backend.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni metrics ops --help</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Cortex cluster setup and config operations</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Available Commands:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    configure           Install or configure a Cortex cluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    get-configuration   Get the current Cortex cluster configuration</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    status              Cortex cluster status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uninstall           Uninstall a Cortex cluster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Usage of the <code>configure</code> subcommand</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni metrics ops configure --help</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Install or configure a Cortex cluster. If the cluster is already installed, this command will update the cluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Some fields contain secrets. You may provide the placeholder value *** to keep an existing secret when</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">updating the cluster configuration.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Options:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --grafana=true:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Enable Grafana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --grafana-hostname=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Grafana hostname</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --mode=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Deployment mode (one of: AllInOne, HighlyAvailable)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.account-key=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] Azure storage account key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.account-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Azure storage account name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.container-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Azure storage container name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.endpoint-suffix=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Azure storage endpoint suffix without schema. The account name will be prefixed to this value to create the</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        FQDN</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.expect-continue-timeout=1s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The time to wait for a server&#x27;s first response headers after fully writing the request headers if the request</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        has an Expect header. 0 to send the request body immediately.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.http.idle-conn-timeout=1m30s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The time an idle connection will remain idle before closing.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.http.insecure-skip-verify=false:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        If the client connects via HTTPS and this option is enabled, the client will accept any certificate and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        hostname.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.http.response-header-timeout=2m0s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The amount of time the client will wait for a servers response headers.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.max-connections-per-host=0:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of connections per host. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.max-idle-connections=100:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of idle (keep-alive) connections across all hosts. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.max-idle-connections-per-host=100:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of idle (keep-alive) connections to keep per-host. If 0, a built-in default value is used.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.max-retries=20:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Number of retries for recoverable errors</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.msi-resource=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] Azure storage MSI resource. Either this or account key must be set.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.tls-handshake-timeout=10s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum time to wait for a TLS handshake. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.azure.user-assigned-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Azure storage MSI resource managed identity client Id. If not supplied system assigned identity is used</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.backend=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Backend storage to use. Supported backends are: s3, gcs, azure, swift, filesystem.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.filesystem.dir=&#x27;/data&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Local filesystem storage directory.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.gcs.bucket-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        GCS bucket name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.gcs.service-account=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] JSON representing either a Google Developers Console client_credentials.json file or a</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Google Developers service account key file. If empty, fallback to Google default logic.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.retention-period=0s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Delete blocks containing samples older than the specified retention period. 0 to disable</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.access-key-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        S3 access key ID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.bucket-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        S3 bucket name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.endpoint=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The S3 bucket endpoint. It could be an AWS S3 endpoint listed at</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        https://docs.aws.amazon.com/general/latest/gr/s3.html or the address of an S3-compatible service in</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        hostname:port format.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.expect-continue-timeout=1s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The time to wait for a server&#x27;s first response headers after fully writing the request headers if the request</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        has an Expect header. 0 to send the request body immediately.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.http.idle-conn-timeout=1m30s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The time an idle connection will remain idle before closing.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.http.insecure-skip-verify=false:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        If the client connects via HTTPS and this option is enabled, the client will accept any certificate and</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        hostname.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.http.response-header-timeout=2m0s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The amount of time the client will wait for a servers response headers.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.insecure=false:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        If enabled, use http:// for the S3 endpoint instead of https://. This could be useful in local dev/test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        environments while using an S3-compatible backend storage, like Minio.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.max-connections-per-host=0:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of connections per host. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.max-idle-connections=100:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of idle (keep-alive) connections across all hosts. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.max-idle-connections-per-host=100:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum number of idle (keep-alive) connections to keep per-host. If 0, a built-in default value is used.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.region=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        S3 region. If unset, the client will issue a S3 GetBucketLocation API call to autodetect it.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.secret-access-key=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] S3 secret access key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.signature-version=&#x27;v4&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        The signature version to use for authenticating against S3. Supported values are: v4, v2.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.sse.kms-encryption-context=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] KMS Encryption Context used for object encryption. It expects JSON formatted string.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.sse.kms-key-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        KMS Key ID used to encrypt objects in S3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.sse.type=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Enable AWS Server Side Encryption. Supported values: SSE-KMS, SSE-S3.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.s3.tls-handshake-timeout=10s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Maximum time to wait for a TLS handshake. 0 means no limit.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.auth-url=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift authentication URL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.auth-version=0:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift authentication API version. 0 to autodetect.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.connect-timeout=10s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Time after which a connection attempt is aborted.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.container-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Name of the OpenStack Swift container to put chunks in.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.domain-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift user&#x27;s domain ID.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.domain-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift user&#x27;s domain name.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.max-retries=3:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Max retries on requests error.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.password=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        [secret] OpenStack Swift API key.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.project-domain-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ID of the OpenStack Swift project&#x27;s domain (v3 auth only), only needed if it differs the from user domain.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.project-domain-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Name of the OpenStack Swift project&#x27;s domain (v3 auth only), only needed if it differs from the user domain.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.project-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift project ID (v2,v3 auth only).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.project-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift project name (v2,v3 auth only).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.region-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift Region to use (v2,v3 auth only).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.request-timeout=5s:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Time after which an idle request is aborted. The timeout watchdog is reset each time some data is received, so</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        the timeout triggers after X time no data is received on a request.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.user-domain-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift user&#x27;s domain ID.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.user-domain-name=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift user&#x27;s domain name.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.user-id=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift user ID.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --storage.swift.username=&#x27;&#x27;:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        OpenStack Swift username.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --disable-usage=false:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Disable anonymous Opni usage tracking.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  opni metrics ops configure [flags] [options]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>The <code>configure</code> and <code>uninstall</code> subcommands can be given the <code>--follow</code> option to watch the progress of the operation in real time.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Experimental Features</summary><div><div class="collapsibleContent_i85q"><p>Using the CLI, you can configure storage backends for Azure, GCS, and Swift, in addition to the ones available in the UI. These backends are not tested as thoroughly as the S3 backend, and may or may not work correctly.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Openstack Environment Variables</div><div class="admonitionContent_S0QG"><p>When using the CLI to configure the Swift backend (using <code>--storage.backend=swift</code>), the standard Openstack environment variables will be used to populate unset options. The <code>--storage.swift.container-name</code> flag will still be required.</p></div></div></div></div></details><br><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-control">Access Control<a class="hash-link" href="#access-control" title="Direct link to heading">​</a></h2><p>Opni Monitoring uses Role Based Access Control (RBAC) to control which clusters a given user is allowed to see. If you are familiar with RBAC in Kubernetes, it works the same way.</p><p>In Kubernetes, RBAC rules are used to determine which API resources a given User or Service Account is allowed to access. Similarly, in Opni Monitoring, RBAC rules are used to determine which clusters a user has access to. When a user makes an authenticated query, the system will evaluate the current RBAC rules for that user and determine which clusters to consider when running the query.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="labels">Labels<a class="hash-link" href="#labels" title="Direct link to heading">​</a></h3><p>Clusters in Opni Monitoring have an opaque ID and can have a number of key-value labels. Labels are the primary means of identifying clusters for access control purposes. Labels in Opni Monitoring are functionally similar to labels in Kubernetes, and follow these rules:</p><ul><li><p>Labels must have unique keys, and there is a one-to-one mapping between keys and values.</p></li><li><p>Labels cannot have empty keys or values</p></li><li><p>Label keys must match the following regular expression:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">^[a-zA-Z0-9][a-zA-Z0-9-_./]{0,63}$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Label values must match the following regular expression:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">^[a-zA-Z0-9][a-zA-Z0-9-_.]{0,63}$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a class="hash-link" href="#roles" title="Direct link to heading">​</a></h3><p>A role is a named object representing a set of permissions. It contains rules that match clusters by ID or by the cluster&#x27;s labels. A role can use any/all of the following matchers:</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-label-matchers">1. Label Matchers<a class="hash-link" href="#1-label-matchers" title="Direct link to heading">​</a></h5><p>A role can match clusters by specifying an explicit <code>key=value</code> label pair that will match a single label with the exact key and value specified. No partial matching or globbing is performed.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-label-selector-expressions">2. Label Selector Expressions<a class="hash-link" href="#2-label-selector-expressions" title="Direct link to heading">​</a></h5><p>A role can also match clusters by using a Kubernetes-style label selector. These selectors are more versatile, and can match labels using a variety of rules, such as:</p><ul><li>Matching if a given key exists</li><li>Matching if a given key does not exist</li><li>Matching if the value for a given key is in a list of allowed values</li><li>Matching if the value for a given key is not in a list of allowed values</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="3-explicit-cluster-ids">3. Explicit Cluster IDs<a class="hash-link" href="#3-explicit-cluster-ids" title="Direct link to heading">​</a></h5><p>Clusters can also be explicitly added to a role by ID. It is not recommended to use explicit cluster IDs as a primary means of access control, but they can be useful in situations where you want to add an exception to an existing role or a temporary override. Label-based selectors are much more flexible, and should be preferred in general.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="role-bindings">Role Bindings<a class="hash-link" href="#role-bindings" title="Direct link to heading">​</a></h3><p>A role binding is a named object that attaches one or more users (&quot;subjects&quot;) to a role. When evaluating RBAC rules for a given user, the system will look up all role bindings attached to that user, then use the union of the associated roles to determine which clusters the user is allowed to see.</p><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-roles-and-role-bindings">Configuring Roles and Role Bindings<a class="hash-link" href="#configuring-roles-and-role-bindings" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-opni-dashboard-1">Using the Opni Dashboard<a class="hash-link" href="#using-the-opni-dashboard-1" title="Direct link to heading">​</a></h3><p>Roles and Role Bindings can be configured in the <strong>RBAC</strong> section under Monitoring in the left sidebar.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-roles">Creating Roles<a class="hash-link" href="#creating-roles" title="Direct link to heading">​</a></h4><p>On the Roles page, click the <strong>Create Role</strong> button. Give the role a unique name, then add clusters by ID, or by label selector. Existing clusters will be listed in the dropdown menu when adding clusters by ID to the role.</p><div class="image-border"><img loading="lazy" src="/assets/images/rbac-new-role-clusters-b426487a0a27756b4f3484d667db7408.png" alt="Clusters dropdown" class="img_ev3q"></div><br><br><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-roles">Example Roles<a class="hash-link" href="#example-roles" title="Direct link to heading">​</a></h4><p>In this example, we will create roles for two different environments, one for &quot;prod&quot; and one for &quot;dev/test&quot;, which we will separate our clusters into using labels.</p><ol><li>Creating the &quot;production&quot; role</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-role-production-41cc05c2c1943478d7ffff2eb948df02.png" alt="Clusters dropdown" class="img_ev3q"></div><ol start="2"><li>Creating the &quot;dev&quot; role</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-role-dev-c44c5892a9e0bf5d372d17523db42047.png" alt="Clusters dropdown" class="img_ev3q"></div><ol start="3"><li>Roles list with the new roles</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-roles-bf33365c05bbd52222924ba602e283d7.png" alt="Clusters dropdown" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-role-bindings">Creating Role Bindings<a class="hash-link" href="#creating-role-bindings" title="Direct link to heading">​</a></h4><p>To create a role binding, navigate to the <strong>Role Bindings</strong> page in the sidebar.</p><p>On the Role Bindings page, Click the <strong>Create Role Binding</strong> button. Give the role binding a unique name, select an existing role to attach to the binding. then add subjects (users) to whom the role will be applied. The value used to identify a user depends on the <code>identifyingClaim</code> configured in the Gateway&#x27;s OAuth settings. For example, if your <code>identifyingClaim</code> is <code>email</code>, subjects are identified by email address. Check your OAuth provider&#x27;s documentation to determine which <code>identifyingClaim</code> you should use.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-role-bindings">Example Role Bindings<a class="hash-link" href="#example-role-bindings" title="Direct link to heading">​</a></h4><p>Following the example above, we will create role bindings for two users, one for each role.</p><ol><li>Creating a role binding for a &quot;production&quot; user</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-alice-095a97d98f667d9dbf7c36ded243573a.png" alt="Clusters dropdown" class="img_ev3q"></div><ol start="2"><li>Creating a role binding for a &quot;dev&quot; user</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-bob-4ea539b05606fc3d283ce43d6aeaa79a.png" alt="Clusters dropdown" class="img_ev3q"></div><ol start="3"><li>Role bindings list with the new role bindings</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-rolebindings-ba9f7a9c4892c90ee7c0965c26ca7713.png" alt="Clusters dropdown" class="img_ev3q"></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="labeling-clusters-for-access-control">Labeling Clusters for Access Control<a class="hash-link" href="#labeling-clusters-for-access-control" title="Direct link to heading">​</a></h4><p>To label a cluster, navigate to the <strong>Clusters</strong> page in the sidebar. Right-click on the cluster you want to label, then select <strong>Edit</strong>. Add labels to the cluster, then click <strong>Save</strong>.</p><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-label-a1da9d65b95c77ec92ca6d7935dca86e.png" alt="Clusters dropdown" class="img_ev3q"></div><br><br><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-labels">Example labels<a class="hash-link" href="#example-labels" title="Direct link to heading">​</a></h4><p>In this example, we will label our clusters with the environment they are in, &quot;prod&quot;, &quot;dev&quot;, or &quot;test&quot;.</p><div class="image-border"><img loading="lazy" src="/assets/images/rbac-example-labeled-clusters-73e22503268942e042cd8663d4a6bd98.png" alt="Clusters dropdown" class="img_ev3q"></div><br><br><p>When a user logs in to Grafana via OAuth, they will only see the clusters they have access to. In this example, Alice will only see the &quot;prod&quot; clusters (4, 5, 6, 7, 8), and Bob will only see the &quot;dev&quot; (1, 2, 3) and &quot;test&quot; (9, 10) clusters.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Access Matrix</div><div class="admonitionContent_S0QG"><p>The <code>opni access-matrix</code> CLI command will print the access matrix of all users and clusters.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni access-matrix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">               TENANT ID               alice@example.com  bob@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 0194fdc2-fa2f-4cc0-81d3-ff12045b73c8          ❌                ✅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 32f3a8ae-b79e-4856-b659-c18f0dcecc77          ❌                ✅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 6e4ff95f-f662-45ee-a82a-bdf44a2d0b75          ❌                ✅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> 8bcb9ef2-d4a6-4314-b68d-6d299761ea9e          ✅                ❌</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> a178892e-e285-4ce1-9114-55780875d64e          ✅                ❌</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> c75e7a81-bfde-475f-a7cf-e242cf3cc354          ✅                ❌</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> e2d3d0d0-de6b-48f9-b44c-e85ff044c6b1          ✅                ❌</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> f3ede2d6-becc-4ea3-ae5e-88526a9f4a57          ✅                ❌</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> f83b8e88-3bbf-457a-ab99-c5b252c7429c          ❌                ✅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> fb180daf-48a7-4ee0-b10d-394651850fd4          ❌                ✅</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-cli-1">Using the CLI<a class="hash-link" href="#using-the-cli-1" title="Direct link to heading">​</a></h3><p>Roles and Role Bindings can be managed using the CLI.</p><p>Usage of the <code>opni roles</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles --help</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Manage roles</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Aliases:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">roles, role</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Available Commands:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  create        Create a role</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  delete        Delete roles</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  list          List roles</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  show          Show detailed information about a role</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Usage of the <code>opni rolebindings</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni rolebindings --help</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Manage role bindings</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Aliases:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rolebindings, rb, rolebinding</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Available Commands:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  create        Create a role binding</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  delete        Delete a role binding</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  list          List role bindings</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  show          Show detailed information about a role binding</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-usage">Example Usage<a class="hash-link" href="#example-usage" title="Direct link to heading">​</a></h4><p>Listing roles and role bindings from the above example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ID          SELECTOR                  CLUSTER IDS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> dev         environment ∈ {dev,test}  (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> production  environment ∈ {prod}      (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni rolebindings list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ID     ROLE ID     SUBJECTS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> alice  production  alice@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> bob    dev         bob@example.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Deleting and Creating a role:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles delete production</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">production</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ID   SELECTOR                  CLUSTER IDS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> dev  environment ∈ {dev,test}  (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles create production --match-labels &#x27;environment=prod&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ID          SELECTOR              CLUSTER IDS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> production  environment ∈ {prod}  (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ opni roles list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> ID          SELECTOR                  CLUSTER IDS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> dev         environment ∈ {dev,test}  (none)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> production  environment ∈ {prod}      (none)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The CLI does not yet support creating roles with label expression matching, only simple label matching.</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden="">To enable the Opni Logging backend, select &quot;Logging&quot; under &quot;Backends&quot; in the left hand navigation menu of the Opni Admin UI, and hit the Enable button.  You will be presented with a number of details to fill out.<br><br><h4 class="anchor anchorWithStickyNavbar_LWe7" id="external-url">External URL<a class="hash-link" href="#external-url" title="Direct link to heading">​</a></h4><p>This is the URL that the Opensearch API will be exposed on, e.g <a href="https://opensearch.example.com." target="_blank" rel="noopener noreferrer">https://opensearch.example.com.</a> You will need to manually expose this URL using either an Ingress or Load Balancer service.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In some cases it might be simpler to access the Opensarch dashboard with a port-forward</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n opni port-forward svc/opni-opensearch-svc-dashboards 5601:5601</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-retention">Data Retention<a class="hash-link" href="#data-retention" title="Direct link to heading">​</a></h4><p>This is how long logs will be retained for. The default is 7 days (7d). This can be extended if required, for example 6 months (6m) or 1 year (1y).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="node-pool-configuration">Node Pool configuration<a class="hash-link" href="#node-pool-configuration" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Opni Node Pool settings" src="/assets/images/loggingnodepool-9763a5949d052d9f1da4df55e0615aae.png" width="1143" height="498" class="img_ev3q"></p><p>This is where the Opensearch node pools are configured. All three roles (controlplane, data, ingest) are required in the cluster but can be spread across multiple node pools.</p><p>The roles are as follows:</p><ul><li><strong>Controlplane</strong> - manages leader elections for the cluster</li><li><strong>Data</strong> - stores the cluster data and runs indexing and search operations</li><li><strong>Ingest</strong> - runs ingest pipelines; Opni uses ingest pipelines to set up the data for AI operations.</li></ul><p>For large clusters it is recommended to separate the roles. In particular the controlplane nodes should be separated to avoid resource contention affecting the leader elections. There should always be an odd number of controlplane nodes.</p><p>In most cases, you will want to deploy at least 3 <code>Controlpane</code> to ensure there will be at least one master for the Opensearch cluster.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dashboards-configuration">Dashboards configuration.<a class="hash-link" href="#dashboards-configuration" title="Direct link to heading">​</a></h4><p>Click enable to install Opensearch Dashboards. This provides a UI for Opensearch and Opni AIOps.</p><p><img loading="lazy" alt="Opni Node Pool settings" src="data:image/png;base64,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" width="1137" height="280" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-opensearch-dashboards">Accessing Opensearch Dashboards<a class="hash-link" href="#accessing-opensearch-dashboards" title="Direct link to heading">​</a></h4><p>Once the Opensearch cluster is reported as ready, you can access the dashboards. Opni will create an admin user that must be used to log in to the dashboards. The username and password admin credentials can be obtained from the <code>opni-admin-password</code> secret.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="username">Username<a class="hash-link" href="#username" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret -n opni opni-admin-password -o jsonpath=&#x27;{.data.username}&#x27; | base64 -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="password">Password<a class="hash-link" href="#password" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get secret -n opni opni-admin-password -o jsonpath=&#x27;{.data.password}&#x27; | base64 -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is recommended that you change the password on this user.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>The Alerting backend is composed of an <a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noopener noreferrer">AlertManager</a> statefulset, fully managed by Opni.
You can enable and configure Monitoring from the Opni dashboard, or from the CLI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-opni-dashboard-2">Using the Opni Dashboard<a class="hash-link" href="#using-the-opni-dashboard-2" title="Direct link to heading">​</a></h3><p>Follow these steps to enable Monitoring from the Opni dashboard:</p><ol><li>Navigate to the Opni dashboard</li></ol><p>To access the dashboard, you can port-forward:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n opni port-forward svc/opni-admin-dashboard web:web</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then navigate to <a href="http://localhost:12080" target="_blank" rel="noopener noreferrer">http://localhost:12080</a>.</p><ol start="2"><li><p>Select &quot;Alerting&quot; from the left sidebar then click enable to install</p><div class="image-border"><img loading="lazy" src="/assets/images/alerting-not-installed-cccd150a25c435b0df6d473f4e9c114f.png" alt="Alerting not installed" class="img_ev3q"></div></li></ol><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>known-issue</div><div class="admonitionContent_S0QG"><p>Alerting backend can sometimes erroneously show a &quot;no changes to apply&quot; error when installing, however this does not impact functionality</p></div></div><ol start="3"><li>Choose between deploying the opni-cluster as standalone or HA:</li></ol><div class="image-border"><img loading="lazy" src="/assets/images/alerting-options-20e42fa3550adf7f814e3ca278237ba6.png" alt="Alerting configuration" class="img_ev3q"></div><br><br></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/opni-docs/edit/main/docs/installation/opni/backends.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/installation/opni"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Opni Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/installation/opni/aiops"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Enable Opni AIOps</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-the-opni-dashboard" class="table-of-contents__link toc-highlight">Using the Opni Dashboard</a><ul><li><a href="#mode" class="table-of-contents__link toc-highlight">Mode</a></li><li><a href="#storage-type" class="table-of-contents__link toc-highlight">Storage Type</a></li><li><a href="#data-retention-period" class="table-of-contents__link toc-highlight">Data Retention Period</a></li><li><a href="#s3-options" class="table-of-contents__link toc-highlight">S3 Options</a></li><li><a href="#grafana" class="table-of-contents__link toc-highlight">Grafana</a></li></ul></li><li><a href="#using-the-cli" class="table-of-contents__link toc-highlight">Using the CLI</a></li><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access Control</a><ul><li><a href="#labels" class="table-of-contents__link toc-highlight">Labels</a></li><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li><li><a href="#role-bindings" class="table-of-contents__link toc-highlight">Role Bindings</a></li></ul></li><li><a href="#configuring-roles-and-role-bindings" class="table-of-contents__link toc-highlight">Configuring Roles and Role Bindings</a><ul><li><a href="#using-the-opni-dashboard-1" class="table-of-contents__link toc-highlight">Using the Opni Dashboard</a></li><li><a href="#using-the-cli-1" class="table-of-contents__link toc-highlight">Using the CLI</a></li><li><a href="#using-the-opni-dashboard-2" class="table-of-contents__link toc-highlight">Using the Opni Dashboard</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ff276d76.js"></script>
<script src="/assets/js/main.4b3a9623.js"></script>
</body>
</html>