<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-installation/opni_agent/capabilities">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Enable capabilities in downstream agents | Rancher Opni</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://opni.io/installation/opni_agent/capabilities"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Enable capabilities in downstream agents | Rancher Opni"><meta data-rh="true" name="description" content="By default, agents do not have any capabilities enabled. From the Opni dashboard or CLI, you can enable or disable capabilities per agent."><meta data-rh="true" property="og:description" content="By default, agents do not have any capabilities enabled. From the Opni dashboard or CLI, you can enable or disable capabilities per agent."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://opni.io/installation/opni_agent/capabilities"><link data-rh="true" rel="alternate" href="https://opni.io/installation/opni_agent/capabilities" hreflang="en"><link data-rh="true" rel="alternate" href="https://opni.io/installation/opni_agent/capabilities" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-56382716-14","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.8ac7f7ba.css">
<link rel="preload" href="/assets/js/runtime~main.ff276d76.js" as="script">
<link rel="preload" href="/assets/js/main.4b3a9623.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/assets/logo-horizontal-opni.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/assets/logo-horizontal-opni.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">v0.10</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rancher/opni" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://epinio.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__epinio">Epinio<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rd">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/installation/opni">Install Opni</a><button aria-label="Toggle the collapsible sidebar category &#x27;Install Opni&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/installation/opni_agent">Install Opni Agent</a><button aria-label="Toggle the collapsible sidebar category &#x27;Install Opni Agent&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/installation/opni_agent/capabilities">Enable Capabilities</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/installation/uninstall">Uninstall Opni</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/rancher-desktop/">Advanced Guides</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/installation/opni_agent"><span itemprop="name">Install Opni Agent</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Enable Capabilities</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Enable capabilities in downstream agents</h1></header><p>By default, agents do not have any capabilities enabled. From the Opni dashboard or CLI, you can enable or disable capabilities per agent.</p><p>The following capabilities can be enabled in downstream agents:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Metrics capability</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Logs capability</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Traces capability</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Enabling the metrics capability for an agent will deploy a Prometheus instance on the agent&#x27;s cluster. It will then automatically begin collecting metrics and sending them to the Opni Gateway, where they will be forwarded to Cortex.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><p>Before you can enable the metrics capability for agents, you must first enable the Monitoring backend in the Opni cluster. See <a href="/installation/opni/backends">Enable Backends</a> for instructions.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the backend is not installed, you will see the following tooltip when hovering over the Monitoring capability button:</p><div class="image-border"><img loading="lazy" src="data:image/png;base64,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" alt="Tooltip" class="img_ev3q"></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-opni-dashboard">Using the Opni dashboard<a class="hash-link" href="#using-the-opni-dashboard" title="Direct link to heading">​</a></h3><p>To enable the metrics capability for an agent using the Opni dashboard, follow these steps:</p><ol><li><p>Navigate to the Opni dashboard.</p><p>To access the dashboard, you can port-forward:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n opni port-forward svc/opni-admin-dashboard web:web</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then navigate to <a href="http://localhost:12080" target="_blank" rel="noopener noreferrer">http://localhost:12080</a>.</p></li><li><p>Select &quot;Clusters&quot; from the left sidebar, and identify the cluster you want to enable the metrics capability for. Click the capability button to enable it.</p><div class="image-border"><img loading="lazy" src="/assets/images/agent-capability-install-90b5afacc1661da8b588e31b0e9bed1c.png" alt="Enable capability" class="img_ev3q"></div><br><br><div class="image-border"><img loading="lazy" src="/assets/images/agent-capability-install-success-908e1fc263cbcc3ae0a09a06696846d8.png" alt="Installing capability" class="img_ev3q"></div><br><br><p>If the installation succeeds, you should see data in the the <strong>Distinct Metrics</strong> and <strong>Metrics Ingestion Rate</strong> fields for this cluster.</p><div class="image-border"><img loading="lazy" src="/assets/images/agent-metrics-stats-abaefbe1c73fae40a02f6d7973357ee8.png" alt="Capability installed" class="img_ev3q"></div><br><br><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Cluster Names</div><div class="admonitionContent_S0QG"><p>Clusters are identified by a UUID by default, but you can set a name alias for the cluster to make it easier to identify. To edit a cluster&#x27;s name, right-click on it and choose &quot;Edit&quot;, then input a name and click &quot;Save&quot;.</p><div class="image-border"><img loading="lazy" src="/assets/images/cluster-edit-name-462c7a5be979b30d1c64aa00fb4a4cba.png" alt="Edit cluster name" class="img_ev3q"></div><br><br><p>Afterwards, the cluster will be listed by its name instead of its UUID.</p><div class="image-border"><img loading="lazy" src="/assets/images/cluster-name-saved-a905adbf08808e098fe2870e5729e366.png" alt="Copy cluster ID" class="img_ev3q"></div><br><br><p>If you need the UUID later, you can right-click on the cluster and select &quot;Copy ID&quot;.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Identifying a cluster by UUID</div><div class="admonitionContent_S0QG"><p>The UUID used to identify a cluster is the <code>uid</code> of the cluster&#x27;s <code>kube-system</code> namespace resource. If needed, you can obtain a cluster&#x27;s UUID manually with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get namespace kube-system -o </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">jsonpath</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{.metadata.uid}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-cli">Using the CLI<a class="hash-link" href="#using-the-cli" title="Direct link to heading">​</a></h3><p>You can also manage cluster capabilities using the Opni CLI. </p><p>The <code>opni capability</code> command can install, uninstall, and check the status of cluster capabilities. See below for an example of how these commands can be used:</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv"><p>$ opni capabilities status metrics 4003b8a2-333e-4f3a-889b-7993700b9d25<br><span style="color:red">Not installed</span></p><p>$ opni capabilities install metrics 4003b8a2-333e-4f3a-889b-7993700b9d25<br>2022-10-20T16:30:26.515Z <span style="color:dodgerblue">INFO</span> <span style="color:gray">commands/capabilities.go:81</span> Capability installed successfully</p><p>$ opni capabilities status metrics 4003b8a2-333e-4f3a-889b-7993700b9d25<br><span style="color:limegreen">Installed</span></p><p>$ opni capabilities uninstall metrics 4003b8a2-333e-4f3a-889b-7993700b9d25<br>2022-10-20T16:30:38.667Z <span style="color:dodgerblue">INFO</span> <span style="color:gray">commands/capabilities.go:118</span> Uninstall request submitted successfully<br>2022-10-20T16:30:38.667Z <span style="color:dodgerblue">INFO</span> <span style="color:gray">commands/capabilities.go:124</span> Watching for progress updates...<br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.663] State changed to <span style="color:gold">Pending</span><br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.669] Stored data will not be deleted<br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.672] State changed to <span style="color:dodgerblue">Running</span><br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.680] Uninstalling metrics capability for this cluster<br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.682] Time series data will not be deleted<br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.686] Removing capability from cluster metadata<br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.691] State changed to <span style="color:limegreen">Completed</span><br><span style="color:dodgerblue">INFO</span> [Oct 20 16:30:38.698] Capability uninstalled successfully<br></p><p style="margin:0">$ opni capabilities status metrics 4003b8a2-333e-4f3a-889b-7993700b9d25<br><span style="color:red">Not installed</span></p></code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Prerequisites:</p><ul><li>Opni logging backend is enabled in upstream Opni<br><br></li></ul><p>To install the Logs capability into a cluster once the logging backend is installed, select the <strong>Logging</strong> button in the clusters screen</p><p><img loading="lazy" alt="Add cluster" src="/assets/images/clusters-b4089ad4079dfd167ffd18214b2a90bf.png" width="1002" height="249" class="img_ev3q"></p><p>The Opni agent will detect the type of cluster it is installed into and create an appropriate fluentbit and fluentd configuration to collect the logs.  It will also start collecting Kubernetes events from inside the cluster.  These will all be sent to the Opni Shipper deployment which is configured to authenticate to Opensearch in the central cluster and ship logs to the endpoint.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a class="hash-link" href="#prerequisites-1" title="Direct link to heading">​</a></h4><p>In the cluster you&#x27;d like to get traces from</p><ul><li><a href="/installation/opni_agent/capabilities">Logs Capability</a> is enabled</li><li>Applications have been <a href="https://opentelemetry.io/docs/concepts/instrumenting/" target="_blank" rel="noopener noreferrer">instrumented with OpenTelemetry</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="config-opentelemetry-collector">Config OpenTelemetry Collector<a class="hash-link" href="#config-opentelemetry-collector" title="Direct link to heading">​</a></h4><p>Opni agent installs a data shipper when the <strong><em>logs capability</em></strong> is enabled in a connected cluster.
You must export traces from OpenTelemetry collector to Opni agent&#x27;s data shipper at port <code>21890</code>. <a href="/guilds/install-otel-collector/index">This guild</a> shows an example of how to do so.</p></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/opni-docs/edit/main/docs/installation/opni_agent/capabilities.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/installation/opni_agent"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Opni Agent Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/installation/uninstall"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Uninstall Opni</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#using-the-opni-dashboard" class="table-of-contents__link toc-highlight">Using the Opni dashboard</a></li><li><a href="#using-the-cli" class="table-of-contents__link toc-highlight">Using the CLI</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ff276d76.js"></script>
<script src="/assets/js/main.4b3a9623.js"></script>
</body>
</html>